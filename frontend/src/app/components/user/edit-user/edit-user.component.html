<div class="container">
  <app-alert *ngIf="alert?.type" [type]="alert.type" [content]="alert.content"></app-alert>
    <form novalidate
        *ngIf="userform; else loading"
        [formGroup]="userform"
        (ngSubmit)="onSubmit()">
        <div class="form-row">
          <div class="col-md-12 mb-6">
            <label>First name</label>
            <input 
              [ngClass]="{
                'is-invalid': first_name.invalid && first_name.dirty,
                'is-valid': first_name.valid && first_name.dirty
              }"
              formControlName="first_name"
              type="text" 
              class="form-control is-valid" 
              placeholder="First name"
              required>
            <div class="valid-feedback">
              Looks good!
            </div>
          </div>
          <div class="col-md-12 mb-6">
            <label>Last name</label>
            <input 
              [ngClass]="{
                'is-invalid': last_name.invalid && last_name.dirty,
                'is-valid': last_name.valid && last_name.dirty
              }"
              formControlName="last_name" 
              type="text" 
              class="form-control"
              placeholder="Last name"
              required>
            <div class="valid-feedback">
              Looks good!
            </div>
          </div>
        </div>
        <div class="form-row">
          <div class="col-md-12 mb-6">
            <label>IBAN</label>
            <input 
              [ngClass]="{
                'is-invalid': iban.invalid && iban.dirty,
                'is-valid': iban.valid && iban.dirty
              }"
              formControlName="iban"
              type="text" 
              class="form-control" 
              placeholder="IBAN" 
              required>
            <div class="invalid-feedback">
              Please provide a valid IBAN.
            </div>
            <div class="valid-feedback">
              Looks good!
            </div>
          </div>
        </div>
        <div class="form-row float-right mt-3">
          <button 
            [disabled]="!userform.valid || this.notUpdate"
            class="btn btn-primary" 
            type="submit">
              {{ buttonSubmit }}
          </button>
        </div>
      </form>
</div>

<ng-template #loading>
  <div class="text-center m-5">
      <div class="spinner-border" role="status">
        <span class="sr-only">Loading...</span>
      </div>
  </div>
</ng-template>